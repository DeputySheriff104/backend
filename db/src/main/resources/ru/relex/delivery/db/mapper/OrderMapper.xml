<?xml version="1.0" encoding="UTF-8" ?>
        <!DOCTYPE mapper
                PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ru.relex.delivery.db.mapper.OrderMapper">

    <select id="createOrder"
            parameterType="ru.relex.delivery.db.model.OrderModel"
            resultType="ru.relex.delivery.db.model.OrderModel">
        INSERT INTO orders (  phone, city, street, house, flat, entrance , floor   )
        VALUES (  #{phone}, #{city}, #{street}, #{house}, #{flat}, #{entrance}, #{floor} )
        RETURNING order_id AS id, created_at AS createdAt
    </select>


    <insert  id="addPositionOfOrder"  parameterType="map">
 INSERT INTO dishesfromorder (  order_id  ,  dish_id , count   )
        VALUES (  #{order_id}  , #{dish_id}, #{count}  )

    </insert >

</mapper>
